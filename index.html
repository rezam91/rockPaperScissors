<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <link rel="stylesheet" href="./assets/styles/index.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
    </head>
    <div class="container">
        <header>
            <h1>Welcome to Rock Paper Scissors Game!</h1>
        </header>
        <body>
            <img class="hero-img" src="./assets/images/image.png" alt="" width="500px">
            <h3>Total playing Games will be: 5</h3>
            
            <div class="action">
                <button onclick="playPaper()" id="playPaperButton"><img src="./assets/images/hand-paper.png" alt="" width="100px"></button>
                <button onclick="playRock()" id="playRockButton"><img src="./assets/images/raise-hand.png" alt="" width="100px"></button>
                <button onclick="playScissor()" id="playScissorButton"><img src="./assets/images/scissors.png" alt="" width="100px"></button>
            </div>
            <hr>
            <!-- <h2>Select your Option</h2> -->
            <div class="selections">
                <div class="player-indicator">
                    <span>Your choice:</span>
                    <span id="player-choice">
                        <img id = 'playerPaperSign' src="./assets/images/hand-paper.png" alt="" width="70px">
                        <img id = 'playerRockSign' src="./assets/images/raise-hand.png" alt="" width="70px">
                        <img id = 'playerScissorSign' src="./assets/images/scissors.png" alt="" width="70px">
                    </span>
                </div>
                <div class="pc-indicator">
                    <span>PC's choice:</span>
                    <span id="pc-choice">
                        <img id = 'pcPaperSign' src="./assets/images/hand-paper.png" alt="" width="70px">
                        <img id = 'pcRockSign' src="./assets/images/raise-hand.png" alt="" width="70px">
                        <img id = 'pcScissorSign' src="./assets/images/scissors.png" alt="" width="70px">
                    </span>
                </div>
            </div>
            <hr>
            <div class="point">
                <div class="player-point">
                    <span class="player-title">Player</span>
                    <span id="playerPoint" class="player-total">0</span>
                </div>
                <div class="pc-point">
                    <span class="player-title">PC</span>
                    <span id="pcPoint" class="pc-total">0</span>
                </div>
            </div>
            <div class="total">Played Game:</div>
            <div id='gamecounter' class="played">0</div>
            <button onclick="resetGame()" id="resetButton" class="reset">Reset Game!</button>
        </body>
    </div>
    <script>
        const gameCounterPlus = () => {
            document.getElementById('gamecounter').innerText = parseInt(document.getElementById('gamecounter').innerText) + 1 
        }
        const pcOption = () => {
            //(Rock is 1)  (Paper is 2)  (Scissor is 3)
            return Math.floor(1 + Math.random() * 3)
        }
        const playPaper = () => {
            let pcChoice = pcOption()
            showPcChoice (pcChoice)
            let playerWins = null

            document.getElementById('playerRockSign').style.opacity = '0.1'
            document.getElementById('playerPaperSign').style.opacity = '1'
            document.getElementById('playerScissorSign').style.opacity = '0.1'

            if (pcChoice === 1) {
                document.getElementById('playerPoint').innerText =parseInt(document.getElementById('playerPoint').innerText) + 1 
                playerWins = 1
            } else if (pcChoice === 2) {
                playerWins = 0
            } else {
                document.getElementById('pcPoint').innerText =parseInt(document.getElementById('pcPoint').innerText) + 1 
                playerWins = -1
            }
            gameCounterPlus()
            showEachPlay(playerWins)
            checkWinner()
        }

        const playRock = () => {
            let pcChoice = pcOption()
            showPcChoice (pcChoice)
            let playerWins = null

            document.getElementById('playerRockSign').style.opacity = '1'
            document.getElementById('playerPaperSign').style.opacity = '0.1'
            document.getElementById('playerScissorSign').style.opacity = '0.1'

            if (pcChoice === 3) {
                document.getElementById('playerPoint').innerText =parseInt(document.getElementById('playerPoint').innerText) + 1 
                playerWins = 1
            } else if (pcChoice === 1) {
                playerWins = 0
            } else {
                document.getElementById('pcPoint').innerText =parseInt(document.getElementById('pcPoint').innerText) + 1 
                playerWins = -1
            }
            gameCounterPlus()
            showEachPlay(playerWins)
            checkWinner()
        }
        const playScissor = () => {
            let pcChoice = pcOption()
            showPcChoice (pcChoice)
            let playerWins = null

            document.getElementById('playerRockSign').style.opacity = '0.1'
            document.getElementById('playerPaperSign').style.opacity = '0.1'
            document.getElementById('playerScissorSign').style.opacity = '1'

            if (pcChoice === 2) {
                document.getElementById('playerPoint').innerText =parseInt(document.getElementById('playerPoint').innerText) + 1 
                playerWins = 1
            } else if (pcChoice === 3) {
                playerWins = 0
            } else {
                document.getElementById('pcPoint').innerText =parseInt(document.getElementById('pcPoint').innerText) + 1 
                playerWins = -1
            }
            gameCounterPlus()
            showEachPlay(playerWins)
            checkWinner()
        }
        const checkWinner = () => {
            if(parseInt(document.getElementById('playerPoint').innerText) + parseInt(document.getElementById('pcPoint').innerText) === 5) {
                document.getElementById('playRockButton').disabled = true
                document.getElementById('playRockButton').style.opacity = '0.5'
                document.getElementById('playRockButton').style.cursor = 'not-allowed'

                document.getElementById('playPaperButton').disabled = true
                document.getElementById('playPaperButton').style.opacity = '0.5'
                document.getElementById('playPaperButton').style.cursor = 'not-allowed'

                document.getElementById('playScissorButton').disabled = true
                document.getElementById('playScissorButton').style.opacity = '0.5'
                document.getElementById('playScissorButton').style.cursor = 'not-allowed'

                document.getElementById('resetButton').innerText = 'Play Again!'
            }
        }
        const showPcChoice = (num) => {
            if (num ===1) {
                document.getElementById('pcRockSign').style.opacity = '1'
                document.getElementById('pcPaperSign').style.opacity = '0.1'
                document.getElementById('pcScissorSign').style.opacity = '0.1'
            } else if (num === 2) {
                document.getElementById('pcRockSign').style.opacity = '0.1'
                document.getElementById('pcPaperSign').style.opacity = '1'
                document.getElementById('pcScissorSign').style.opacity = '0.1'
            } else {
                document.getElementById('pcRockSign').style.opacity = '0.1'
                document.getElementById('pcPaperSign').style.opacity = '0.1'
                document.getElementById('pcScissorSign').style.opacity = '1'
            }
        }
        const showEachPlay = (num) => {
            if (num > 0) {
                document.getElementById('player-choice').style.backgroundColor = 'rgb(103, 203, 103)'
                document.getElementById('pc-choice').style.backgroundColor = 'rgb(227, 132, 132)'
            } else if (num < 0) {
                document.getElementById('pc-choice').style.backgroundColor = 'rgb(103, 203, 103)'
                document.getElementById('player-choice').style.backgroundColor = 'rgb(227, 132, 132)'
            } else {
                document.getElementById('player-choice').style.backgroundColor = 'rgb(241, 241, 217)'
                document.getElementById('pc-choice').style.backgroundColor = 'rgb(241, 241, 217)'
            }
        }
        const resetGame = () => {
            window.location.reload()
        }
    </script>
</html>